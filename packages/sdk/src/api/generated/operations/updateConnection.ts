/**
 * Generated by Kubb (https://kubb.dev/).
 * Do not edit manually.
 */

import fetch from '../../../client/fetch'
import type { RequestConfig, ResponseErrorConfig } from '../../../client/fetch'
import type {
  UpdateConnectionMutationRequest,
  UpdateConnectionMutationResponse,
  UpdateConnectionPathParams,
  UpdateConnection400,
  UpdateConnection401,
  UpdateConnection403,
  UpdateConnection404,
  UpdateConnection429,
  UpdateConnection500,
} from '../types/UpdateConnection'

function getUpdateConnectionUrl({
  connectionId,
}: { connectionId: UpdateConnectionPathParams['connectionId'] }) {
  return `/connections/${connectionId}` as const
}

/**
 * @description Update a connection
 * {@link /connections/:connectionId}
 */
export async function updateConnection(
  {
    connectionId,
    data,
  }: {
    connectionId: UpdateConnectionPathParams['connectionId']
    data: UpdateConnectionMutationRequest
  },
  config: Partial<RequestConfig<UpdateConnectionMutationRequest>> & {
    client?: typeof fetch
  } = {},
) {
  const { client: request = fetch, ...requestConfig } = config

  const requestData = data
  const res = await request<
    UpdateConnectionMutationResponse,
    ResponseErrorConfig<
      | UpdateConnection400
      | UpdateConnection401
      | UpdateConnection403
      | UpdateConnection404
      | UpdateConnection429
      | UpdateConnection500
    >,
    UpdateConnectionMutationRequest
  >({
    method: 'PATCH',
    url: getUpdateConnectionUrl({ connectionId }).toString(),
    data: requestData,
    ...requestConfig,
  })
  return res
}
